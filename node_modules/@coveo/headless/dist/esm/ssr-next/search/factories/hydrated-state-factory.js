import { buildFactory } from './build-factory.js';
export function hydratedStaticStateFactory(controllerDefinitions, options) {
    return async (params) => {
        const { engine, controllers } = await buildFactory(controllerDefinitions, options)(params);
        params.searchActions.forEach((action) => {
            engine.dispatch(action);
        });
        if (params.searchActions.length > 0) {
            await engine.waitForSearchCompletedAction();
        }
        return { engine, controllers };
    };
}
