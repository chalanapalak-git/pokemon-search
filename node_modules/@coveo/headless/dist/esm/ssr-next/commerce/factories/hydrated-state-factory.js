import { buildFactory } from './build-factory.js';
export function hydratedStaticStateFactory(controllerDefinitions, options) {
    return (solutionType) => async (params) => {
        const { controllerProps, ...restParams } = params;
        const paramsWithControllerProps = {
            ...restParams,
            ...(controllerProps && { controllers: controllerProps }),
        };
        const solutionTypeBuild = await buildFactory(controllerDefinitions, options)(solutionType);
        const { engine, controllers } = await solutionTypeBuild(paramsWithControllerProps);
        await engine.waitForRequestCompletedAction();
        return { engine, controllers };
    };
}
