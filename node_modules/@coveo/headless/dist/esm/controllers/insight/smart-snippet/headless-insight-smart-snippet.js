import { insightSmartSnippetAnalyticsClient } from '../../../features/question-answering/question-answering-insight-analytics-actions.js';
import { buildCoreSmartSnippet, } from '../../core/smart-snippet/headless-core-smart-snippet.js';
import { buildSmartSnippetInteractiveInlineLinks } from './headless-insight-smart-snippet-interactive-inline-links.js';
/**
 * Creates an insight `SmartSnippet` controller instance.
 *
 * @param engine - The headless insight engine.
 * @param props - The configurable `SmartSnippet` properties.
 * @returns A `SmartSnippet` controller instance.
 *
 * @group Controllers
 * @category SmartSnippet
 * */
export function buildSmartSnippet(engine, props) {
    const smartSnippet = buildCoreSmartSnippet(engine, insightSmartSnippetAnalyticsClient, props);
    const interactiveInlineLinks = buildSmartSnippetInteractiveInlineLinks(engine, { options: { selectionDelay: props?.options?.selectionDelay } });
    return {
        ...smartSnippet,
        get state() {
            return smartSnippet.state;
        },
        selectInlineLink(link) {
            interactiveInlineLinks.selectInlineLink(link);
        },
        beginDelayedSelectInlineLink(link) {
            interactiveInlineLinks.beginDelayedSelectInlineLink(link);
        },
        cancelPendingSelectInlineLink(link) {
            interactiveInlineLinks.cancelPendingSelectInlineLink(link);
        },
    };
}
