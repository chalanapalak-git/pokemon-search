import { logRecommendationOpen } from '../../../features/recommendation/recommendation-analytics-actions.js';
import { buildInteractiveResultCore, } from '../../core/interactive-result/headless-core-interactive-result.js';
/**
 * Creates an recommendation `InteractiveResult` controller instance.
 *
 * @param engine - The recommendation engine.
 * @param props - The configurable `InteractiveResult` properties.
 * @returns An `InteractiveResult` controller instance.
 *
 * @group Controllers
 * @category InteractiveResult
 */
export function buildInteractiveResult(engine, props) {
    let wasOpened = false;
    const logAnalyticsIfNeverOpened = () => {
        if (wasOpened) {
            return;
        }
        wasOpened = true;
        engine.dispatch(logRecommendationOpen(props.options.result));
    };
    const action = () => {
        logAnalyticsIfNeverOpened();
    };
    return buildInteractiveResultCore(engine, props, action);
}
