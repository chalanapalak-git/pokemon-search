import { getOrganizationEndpoint } from '../../api/platform-client.js';
import { baseInsightUrl } from '../../api/service/insight/insight-params.js';
export async function buildInsightResultPreviewRequest(state, options) {
    const { accessToken, organizationId, environment } = state.configuration;
    const { insightId } = state.insightConfiguration;
    const q = state.query?.q || '';
    const url = baseInsightUrl({
        url: getOrganizationEndpoint(organizationId, environment),
        accessToken,
        organizationId,
        insightId,
    });
    return {
        url,
        accessToken,
        organizationId,
        enableNavigation: false,
        q,
        ...options,
        requestedOutputSize: options.requestedOutputSize || 0,
    };
}
