import { buildContext, } from '../../../../controllers/commerce/context/headless-context.js';
import { MissingControllerProps } from '../../../common/errors.js';
import { createControllerWithKind, Kind } from '../../types/kind.js';
/**
 * @deprecated In the future, the context controller will be included by default in the engine definition. You will no longer need to define it manually
 * Defines a `Context` controller instance.
 * @group Definers
 *
 * @returns The `Context` controller definition.
 */
export function defineContext() {
    return {
        listing: true,
        search: true,
        standalone: true,
        recommendation: true,
        buildWithProps: (engine, props) => {
            if (props === undefined) {
                throw new MissingControllerProps(Kind.Context);
            }
            const controller = buildContext(engine, { options: props });
            return createControllerWithKind(controller, Kind.Context);
        },
    };
}
