import { buildProductListing } from '../../../../controllers/commerce/product-listing/headless-product-listing.js';
import { buildSearch } from '../../../../controllers/commerce/search/headless-search.js';
import { ensureAtLeastOneSolutionType } from '../../../../ssr/commerce/controller-utils.js';
import { SolutionType } from '../../types/controller-constants.js';
/**
 * Defines a `Summary` controller instance.
 * @group Definers
 *
 * @returns The `Summary` controller definition.
 */
export function defineSummary(options) {
    ensureAtLeastOneSolutionType(options);
    return {
        listing: true,
        search: true,
        ...options,
        build: (engine, solutionType) => solutionType === SolutionType.listing
            ? buildProductListing(engine).summary()
            : buildSearch(engine).summary(),
    };
}
