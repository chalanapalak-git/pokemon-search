import type { ThunkDispatch, UnknownAction } from '@reduxjs/toolkit';
import type { GeneratedContentFormat } from '../../../../features/generated-answer/generated-response-format.js';
import type { GeneratedAnswerCitation } from '../../../generated-answer/generated-answer-event-payload.js';
/**
 * Message types received during answer generation streaming.
 */
type PayloadType = 'agentInteraction.answerHeader' | 'generativeengines.messageType' | 'agentInteraction.citations' | 'generativeengines.headerMessageType' | 'generativeengines.endOfStreamType';
/**
 * Event types including standard payload types and error events.
 */
export type EventType = PayloadType | 'error';
/**
 * Parsed payload data from streaming messages.
 */
export interface StreamPayload {
    textDelta?: string;
    padding?: string;
    answerGenerated?: boolean;
    contentFormat?: GeneratedContentFormat;
    citations?: GeneratedAnswerCitation[];
    conversationId?: string;
    followUpEnabled?: boolean;
}
export interface Message {
    payloadType: PayloadType;
    payload: StreamPayload;
    finishReason?: string;
    errorMessage?: string;
    code?: number;
}
/**
 * Strategy interface for handling application-specific streaming events.
 * Defines handlers for connection lifecycle and message processing.
 */
export interface StreamingStrategy<TState> {
    handleOpen: (response: Response, dispatch: ThunkDispatch<TState, unknown, UnknownAction>) => void;
    handleError: (error: unknown) => void;
    handleMessage: Partial<Record<EventType, (message: Message, dispatch: ThunkDispatch<TState, unknown, UnknownAction>) => void>>;
    handleClose?: (dispatch: ThunkDispatch<TState, unknown, UnknownAction>) => void;
}
export {};
